Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 6
Rules claiming more threads will be scaled down.
Job stats:
job              count    min threads    max threads
-------------  -------  -------------  -------------
align                8              1              1
all                  1              1              1
ancestral            8              1              1
cleavage_site        1              1              1
export               8              1              1
filter               8              1              1
parse                8              1              1
refine               8              1              1
traits               8              1              1
translate            8              1              1
tree                 8              1              1
total               74              1              1

Select jobs to execute...

[Fri Apr 28 01:48:28 2023]
Job 52: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_pa.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_pa.fa             --output-sequences results/sequences_h3nx_pa.fasta             --output-metadata results/metadata_h3nx_pa.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        

[Fri Apr 28 01:48:28 2023]
Job 43: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_np.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_np.fa             --output-sequences results/sequences_h3nx_np.fasta             --output-metadata results/metadata_h3nx_np.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        

[Fri Apr 28 01:48:28 2023]
Job 34: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_na.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_na.fa             --output-sequences results/sequences_h3nx_na.fasta             --output-metadata results/metadata_h3nx_na.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        

[Fri Apr 28 01:48:28 2023]
Job 6: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_ha.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_ha.fa             --output-sequences results/sequences_h3nx_ha.fasta             --output-metadata results/metadata_h3nx_ha.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        

[Fri Apr 28 01:48:28 2023]
Job 25: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_pb1.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_pb1.fa             --output-sequences results/sequences_h3nx_pb1.fasta             --output-metadata results/metadata_h3nx_pb1.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        

[Fri Apr 28 01:48:28 2023]
Job 16: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_pb2.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_pb2.fa             --output-sequences results/sequences_h3nx_pb2.fasta             --output-metadata results/metadata_h3nx_pb2.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        
[Fri Apr 28 01:48:31 2023]
Finished job 43.
1 of 74 steps (1%) done
Select jobs to execute...

[Fri Apr 28 01:48:31 2023]
Job 42: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/metadata_h3nx_np.tsv, results/sequences_h3nx_np.fasta


        augur filter             --sequences results/sequences_h3nx_np.fasta             --metadata results/metadata_h3nx_np.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_np.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 1400             --non-nucleotide
        
[Fri Apr 28 01:48:32 2023]
Finished job 34.
2 of 74 steps (3%) done
Select jobs to execute...

[Fri Apr 28 01:48:32 2023]
Job 33: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/metadata_h3nx_na.tsv, results/sequences_h3nx_na.fasta


        augur filter             --sequences results/sequences_h3nx_na.fasta             --metadata results/metadata_h3nx_na.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_na.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 1270             --non-nucleotide
        
[Fri Apr 28 01:48:32 2023]
Finished job 16.
3 of 74 steps (4%) done
Select jobs to execute...

[Fri Apr 28 01:48:32 2023]
Job 15: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/sequences_h3nx_pb2.fasta, results/metadata_h3nx_pb2.tsv


        augur filter             --sequences results/sequences_h3nx_pb2.fasta             --metadata results/metadata_h3nx_pb2.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_pb2.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 2100             --non-nucleotide
        
[Fri Apr 28 01:48:32 2023]
Finished job 52.
4 of 74 steps (5%) done
Select jobs to execute...

[Fri Apr 28 01:48:32 2023]
Job 51: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/metadata_h3nx_pa.tsv, results/sequences_h3nx_pa.fasta


        augur filter             --sequences results/sequences_h3nx_pa.fasta             --metadata results/metadata_h3nx_pa.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_pa.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 2000             --non-nucleotide
        
[Fri Apr 28 01:48:32 2023]
Finished job 25.
5 of 74 steps (7%) done
Select jobs to execute...

[Fri Apr 28 01:48:32 2023]
Job 24: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/sequences_h3nx_pb1.fasta, results/metadata_h3nx_pb1.tsv


        augur filter             --sequences results/sequences_h3nx_pb1.fasta             --metadata results/metadata_h3nx_pb1.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_pb1.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 2100             --non-nucleotide
        
[Fri Apr 28 01:48:33 2023]
Finished job 6.
6 of 74 steps (8%) done
Select jobs to execute...

[Fri Apr 28 01:48:33 2023]
Job 5: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/metadata_h3nx_ha.tsv, results/sequences_h3nx_ha.fasta


        augur filter             --sequences results/sequences_h3nx_ha.fasta             --metadata results/metadata_h3nx_ha.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_ha.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 1600             --non-nucleotide
        
[Fri Apr 28 01:48:34 2023]
Finished job 42.
7 of 74 steps (9%) done
Select jobs to execute...

[Fri Apr 28 01:48:34 2023]
Job 70: Parsing fasta into sequences and metadata
Reason: Updated input files: h3nx_seg_filtered/h3nx_mp.fa


        augur parse             --sequences h3nx_seg_filtered/h3nx_mp.fa             --output-sequences results/sequences_h3nx_mp.fasta             --output-metadata results/metadata_h3nx_mp.tsv             --fields strain accession subtype date host country             --prettify-fields country host
        
[Fri Apr 28 01:48:34 2023]
Finished job 33.
8 of 74 steps (11%) done
Select jobs to execute...

[Fri Apr 28 01:48:34 2023]
Job 41: 
        Aligning sequences to config/references/h3nx_np.gb
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered_h3nx_np.fasta


        augur align             --sequences results/filtered_h3nx_np.fasta             --reference-sequence config/references/h3nx_np.gb             --output results/aligned_h3nx_np.fasta             --remove-reference             --nthreads 1
        
[Fri Apr 28 01:48:35 2023]
Finished job 15.
9 of 74 steps (12%) done
Select jobs to execute...

[Fri Apr 28 01:48:35 2023]
Job 14: 
        Aligning sequences to config/references/h3nx_pb2.gb
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered_h3nx_pb2.fasta


        augur align             --sequences results/filtered_h3nx_pb2.fasta             --reference-sequence config/references/h3nx_pb2.gb             --output results/aligned_h3nx_pb2.fasta             --remove-reference             --nthreads 1
        
[Fri Apr 28 01:48:35 2023]
Finished job 51.
10 of 74 steps (14%) done
Select jobs to execute...

[Fri Apr 28 01:48:35 2023]
Job 50: 
        Aligning sequences to config/references/h3nx_pa.gb
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered_h3nx_pa.fasta


        augur align             --sequences results/filtered_h3nx_pa.fasta             --reference-sequence config/references/h3nx_pa.gb             --output results/aligned_h3nx_pa.fasta             --remove-reference             --nthreads 1
        
[Fri Apr 28 01:48:35 2023]
Finished job 24.
11 of 74 steps (15%) done
Select jobs to execute...

[Fri Apr 28 01:48:35 2023]
Job 23: 
        Aligning sequences to config/references/h3nx_pb1.gb
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered_h3nx_pb1.fasta


        augur align             --sequences results/filtered_h3nx_pb1.fasta             --reference-sequence config/references/h3nx_pb1.gb             --output results/aligned_h3nx_pb1.fasta             --remove-reference             --nthreads 1
        
[Fri Apr 28 01:48:36 2023]
Finished job 70.
12 of 74 steps (16%) done
Select jobs to execute...

[Fri Apr 28 01:48:36 2023]
Job 69: 
        Filtering to
          - 50 sequence(s) per year country host subtype
          - excluding strains in config/dropped_strains_h3nx.txt
          - samples with missing region and country metadata
          - excluding strains prior to 1997
        
Reason: Input files updated by another job: results/metadata_h3nx_mp.tsv, results/sequences_h3nx_mp.fasta


        augur filter             --sequences results/sequences_h3nx_mp.fasta             --metadata results/metadata_h3nx_mp.tsv             --exclude config/dropped_strains_h3nx.txt             --include config/include_strains_h3nx.txt             --output results/filtered_h3nx_mp.fasta             --group-by year country host subtype             --sequences-per-group 50             --min-date 1997             --exclude-where host=laboratoryderived host=ferret host=unknown host=other country=? subtype=HH             --min-length 900             --non-nucleotide
        
[Fri Apr 28 01:48:37 2023]
Finished job 5.
13 of 74 steps (18%) done
Select jobs to execute...

[Fri Apr 28 01:48:37 2023]
Job 4: 
        Aligning sequences to config/references/h3nx_ha.gb
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered_h3nx_ha.fasta


        augur align             --sequences results/filtered_h3nx_ha.fasta             --reference-sequence config/references/h3nx_ha.gb             --output results/aligned_h3nx_ha.fasta             --remove-reference             --nthreads 1
        
[Fri Apr 28 01:48:38 2023]
Finished job 69.
14 of 74 steps (19%) done
Select jobs to execute...

[Fri Apr 28 01:48:38 2023]
Job 32: 
        Aligning sequences to config/references/h3nx_na.gb
          - filling gaps with N
        
Reason: Input files updated by another job: results/filtered_h3nx_na.fasta


        augur align             --sequences results/filtered_h3nx_na.fasta             --reference-sequence config/references/h3nx_na.gb             --output results/aligned_h3nx_na.fasta             --remove-reference             --nthreads 1
        
[Fri Apr 28 02:22:38 2023]
Finished job 41.
15 of 74 steps (20%) done
Select jobs to execute...

[Fri Apr 28 02:22:38 2023]
Job 40: Building tree
Reason: Input files updated by another job: results/aligned_h3nx_np.fasta


        augur tree             --alignment results/aligned_h3nx_np.fasta             --output results/tree-raw_h3nx_np.nwk             --method iqtree             --nthreads 1
        
[Fri Apr 28 02:23:14 2023]
Finished job 32.
16 of 74 steps (22%) done
Select jobs to execute...

[Fri Apr 28 02:23:14 2023]
Job 31: Building tree
Reason: Input files updated by another job: results/aligned_h3nx_na.fasta


        augur tree             --alignment results/aligned_h3nx_na.fasta             --output results/tree-raw_h3nx_na.nwk             --method iqtree             --nthreads 1
        
[Fri Apr 28 02:27:14 2023]
Finished job 14.
17 of 74 steps (23%) done
Select jobs to execute...

[Fri Apr 28 02:27:14 2023]
Job 13: Building tree
Reason: Input files updated by another job: results/aligned_h3nx_pb2.fasta


        augur tree             --alignment results/aligned_h3nx_pb2.fasta             --output results/tree-raw_h3nx_pb2.nwk             --method iqtree             --nthreads 1
        
[Fri Apr 28 02:27:57 2023]
Finished job 50.
18 of 74 steps (24%) done
Select jobs to execute...

[Fri Apr 28 02:27:57 2023]
Job 49: Building tree
Reason: Input files updated by another job: results/aligned_h3nx_pa.fasta


        augur tree             --alignment results/aligned_h3nx_pa.fasta             --output results/tree-raw_h3nx_pa.nwk             --method iqtree             --nthreads 1
        
[Fri Apr 28 02:28:58 2023]
Finished job 23.
19 of 74 steps (26%) done
Select jobs to execute...

[Fri Apr 28 02:28:58 2023]
Job 22: Building tree
Reason: Input files updated by another job: results/aligned_h3nx_pb1.fasta


        augur tree             --alignment results/aligned_h3nx_pb1.fasta             --output results/tree-raw_h3nx_pb1.nwk             --method iqtree             --nthreads 1
        
[Fri Apr 28 02:38:58 2023]
Finished job 4.
20 of 74 steps (27%) done
Select jobs to execute...

[Fri Apr 28 02:38:58 2023]
Job 10: determining sequences that harbor furin cleavage sites
Reason: Input files updated by another job: results/aligned_h3nx_ha.fasta


        python scripts/annotate-ha-cleavage-site.py             --alignment results/aligned_h3nx_ha.fasta             --furin_site_motif results/cleavage-site_h3nx_ha.json             --cleavage_site_sequence results/cleavage-site-sequences_h3nx_ha.json
        
[Fri Apr 28 02:39:00 2023]
Finished job 10.
21 of 74 steps (28%) done
Select jobs to execute...

[Fri Apr 28 02:39:00 2023]
Job 3: Building tree
Reason: Input files updated by another job: results/aligned_h3nx_ha.fasta


        augur tree             --alignment results/aligned_h3nx_ha.fasta             --output results/tree-raw_h3nx_ha.nwk             --method iqtree             --nthreads 1
        
Terminating processes on user request, this might take some time.
[Fri Apr 28 02:39:49 2023]
Error in rule tree:
    jobid: 40
    input: results/aligned_h3nx_np.fasta
    output: results/tree-raw_h3nx_np.nwk
    shell:
        
        augur tree             --alignment results/aligned_h3nx_np.fasta             --output results/tree-raw_h3nx_np.nwk             --method iqtree             --nthreads 1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Apr 28 02:39:49 2023]
Error in rule tree:
    jobid: 13
    input: results/aligned_h3nx_pb2.fasta
    output: results/tree-raw_h3nx_pb2.nwk
    shell:
        
        augur tree             --alignment results/aligned_h3nx_pb2.fasta             --output results/tree-raw_h3nx_pb2.nwk             --method iqtree             --nthreads 1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Apr 28 02:39:49 2023]
Error in rule tree:
    jobid: 3
    input: results/aligned_h3nx_ha.fasta
    output: results/tree-raw_h3nx_ha.nwk
    shell:
        
        augur tree             --alignment results/aligned_h3nx_ha.fasta             --output results/tree-raw_h3nx_ha.nwk             --method iqtree             --nthreads 1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Apr 28 02:39:49 2023]
Error in rule tree:
    jobid: 49
    input: results/aligned_h3nx_pa.fasta
    output: results/tree-raw_h3nx_pa.nwk
    shell:
        
        augur tree             --alignment results/aligned_h3nx_pa.fasta             --output results/tree-raw_h3nx_pa.nwk             --method iqtree             --nthreads 1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Apr 28 02:39:50 2023]
Error in rule tree:
    jobid: 22
    input: results/aligned_h3nx_pb1.fasta
    output: results/tree-raw_h3nx_pb1.nwk
    shell:
        
        augur tree             --alignment results/aligned_h3nx_pb1.fasta             --output results/tree-raw_h3nx_pb1.nwk             --method iqtree             --nthreads 1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Apr 28 02:39:50 2023]
Error in rule tree:
    jobid: 31
    input: results/aligned_h3nx_na.fasta
    output: results/tree-raw_h3nx_na.nwk
    shell:
        
        augur tree             --alignment results/aligned_h3nx_na.fasta             --output results/tree-raw_h3nx_na.nwk             --method iqtree             --nthreads 1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: .snakemake/log/2023-04-28T014827.949221.snakemake.log
